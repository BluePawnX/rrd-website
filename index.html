<!doctype html><html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes, viewport-fit=cover">
<meta name="theme-color" content="#0b0b0b">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="format-detection" content="telephone=no">
<title>Home â€” RRD Collection</title>
<meta name="description" content="RRD Collection curates bold, moodâ€‘defining fragrances. Discover luxury perfumes that make unforgettable impressions.">
<meta property="og:title" content="Home â€” RRD Collection">
<meta property="og:description" content="RRD Collection curates bold, moodâ€‘defining fragrances. Discover luxury perfumes that make unforgettable impressions.">
<meta property="og:image" content="/assets/img/hero.png">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Home â€” RRD Collection">
<meta name="twitter:description" content="RRD Collection curates bold, moodâ€‘defining fragrances. Discover luxury perfumes that make unforgettable impressions.">
<meta name="twitter:image" content="/assets/img/hero.png">
<link rel="icon" href="/assets/img/logo.png">
<link rel="stylesheet" href="/assets/css/style.css">
<script src="/assets/js/data.js" defer></script>
<script src="/assets/js/ui.js" defer></script>
<script src="/assets/js/cart.js" defer></script>
<script src="/assets/js/analytics.js" defer></script>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2GJXXCKDX8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-2GJXXCKDX8');
</script>
</head><body>
<header>
  <div class="container header-inner">
    <a class="brand" href="/index.html"><img src="/assets/img/logo.png" alt="RRD Collection logo"><strong>RRD Collection</strong></a>
    <nav aria-label="primary" id="main-nav">
      <ul>
        <li><a href="/shop.html">Shop Perfumes</a></li>
        <li><a href="/about.html">About</a></li>
        <li><a href="/faq.html">FAQ</a></li>
        <li><a href="/contact.html">Contact</a></li>
      </ul>
    </nav>
    <div class="header-cart" onclick="toggleCart()">ðŸ›’ <span class="badge" id="cart-count">0</span></div>
    <button class="mobile-nav-toggle" aria-label="Toggle navigation" onclick="toggleMobileNav()">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>
</header>
<div id="cart-drawer" aria-label="Cart drawer">
  <header><strong>Your Cart</strong><button class="btn secondary" onclick="toggleCart(false)">Close</button></header>
  <div class="cart-items"></div>
  <div class="cart-footer">
    <div class="currency-switch">Currency:
      <select id="currencySel"><option value="AED">AED</option><option value="INR">INR</option><option value="USD">USD</option></select>
    </div>
    <div class="cart-extras"></div>
    <div>Subtotal: <span class="cart-subtotal">AED 0.00</span></div>
    <button class="btn" onclick="checkoutWhatsApp()">Checkout via WhatsApp</button>
    <button class="btn secondary" onclick="checkoutEmail()">Checkout via Email</button>
  </div>
</div>

<main>
  <section class="hero">
    <div class="container"><div class="copy">
      <h1>RRD Collection</h1>
      <p>A scent isn't just a smell â€” it's a signature. RRD Collection curates bold, moodâ€‘defining fragrances for those who walk into the room already unforgettable.</p>
      <p><a class="btn" href="/shop.html">Shop Perfumes</a></p>
    </div></div>
  </section>
  
  <section class="container">
    <h2>Bestsellers</h2>
    <div class="grid" id="bestGrid"></div>
  </section>

  <!-- Bundles Section -->
  <section class="bundles">
    <div class="container">
      <h2>Curated Duos</h2>
      <p style="text-align:center;color:var(--muted);margin-bottom:32px">Save on perfectly paired fragrances</p>
      <div class="grid">
        <div class="bundle-card">
          <h3>Fresh & Clean Duo</h3>
          <p>Perfect for daily wear - crisp citrus meets clean amber</p>
          <div class="price">AED 249</div>
          <div class="savings">Save AED 19</div>
          <button class="btn" onclick="addBundleToCart('fresh-duo')">Add Duo to Cart</button>
        </div>
        <div class="bundle-card">
          <h3>Romance Collection</h3>
          <p>Floral romance for special occasions</p>
          <div class="price">AED 259</div>
          <div class="savings">Save AED 15</div>
          <button class="btn" onclick="addBundleToCart('romance-duo')">Add Duo to Cart</button>
        </div>
        <div class="bundle-card">
          <h3>Luxury Oriental Duo</h3>
          <p>Opulent oud and regal rose for unforgettable moments</p>
          <div class="price">AED 289</div>
          <div class="savings">Save AED 15</div>
          <button class="btn" onclick="addBundleToCart('luxury-duo')">Add Duo to Cart</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Quiz Section -->
  <section class="quiz">
    <div class="container">
      <h2>Find Your Perfect Scent</h2>
      <p style="text-align:center;color:var(--muted);margin-bottom:32px">Take our quick quiz to discover your ideal fragrance</p>
      
      <div class="quiz-step active">
        <h3>What's your preferred scent intensity?</h3>
        <div class="quiz-options">
          <div class="quiz-option" data-value="light">
            <h4>Light & Subtle</h4>
            <p>Gentle, close-to-skin fragrances</p>
          </div>
          <div class="quiz-option" data-value="medium">
            <h4>Balanced</h4>
            <p>Moderate projection, noticeable but not overwhelming</p>
          </div>
          <div class="quiz-option" data-value="strong">
            <h4>Bold & Memorable</h4>
            <p>Strong presence, makes an entrance</p>
          </div>
        </div>
      </div>
      
      <div class="quiz-step">
        <h3>When do you plan to wear this fragrance?</h3>
        <div class="quiz-options">
          <div class="quiz-option" data-value="daily">
            <h4>Daily Wear</h4>
            <p>Office, casual outings, everyday use</p>
          </div>
          <div class="quiz-option" data-value="evening">
            <h4>Evening & Events</h4>
            <p>Dinner dates, parties, special occasions</p>
          </div>
          <div class="quiz-option" data-value="both">
            <h4>Versatile</h4>
            <p>Works for both day and evening</p>
          </div>
        </div>
      </div>
      
      <div class="quiz-step">
        <h3>What's your preferred fragrance family?</h3>
        <div class="quiz-options">
          <div class="quiz-option" data-value="fresh">
            <h4>Fresh & Clean</h4>
            <p>Citrus, aquatic, clean notes</p>
          </div>
          <div class="quiz-option" data-value="floral">
            <h4>Floral & Romantic</h4>
            <p>Rose, jasmine, romantic blooms</p>
          </div>
          <div class="quiz-option" data-value="oriental">
            <h4>Oriental & Spicy</h4>
            <p>Amber, oud, warm spices</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Newsletter Section -->
  <section class="newsletter">
    <div class="container">
      <h2>Stay in the Loop</h2>
      <p>Be the first to know about new fragrances, exclusive offers, and fragrance tips</p>
      <form onsubmit="event.preventDefault(); handleNewsletterSubmit(event)">
        <input type="email" placeholder="Enter your email address" required>
        <button type="submit" class="btn">Subscribe</button>
      </form>
    </div>
  </section>
</main>

<!-- Floating WhatsApp Button -->
<div class="floating-whatsapp">
  <a href="https://wa.me/971559938295" target="_blank" rel="noopener" class="btn" aria-label="Chat on WhatsApp">
    ðŸ’¬
  </a>
</div>

<script>
  // Error handling and global scope verification
  (function() {
    'use strict';
    
    // Verify required globals are available
    if (typeof PRODUCTS === 'undefined') {
      console.error('PRODUCTS not found - check data.js include order');
      document.getElementById('bestGrid').innerHTML = '<p class="muted">Error loading products. Please refresh the page.</p>';
      return;
    }
    
    if (typeof avgRating === 'undefined' || typeof reviewsCount === 'undefined') {
      console.error('Helper functions missing - check data.js include order');
      return;
    }
    
    // DOM ready guard - only run once
    let isInitialized = false;
    
    function initializeHome() {
      if (isInitialized) return;
      isInitialized = true;
      
      try {
        // Initialize currency selector
        const currencySel = document.getElementById('currencySel');
        if (currencySel) {
          currencySel.value = currentCurrency();
          currencySel.addEventListener('change', e => setCurrency(e.target.value));
        }
        
        // Initialize cart count
        document.dispatchEvent(new Event('cart:updated'));
        const cartCountEl = document.getElementById('cart-count');
        if (cartCountEl) cartCountEl.textContent = cartCount();
        
        // Initialize quiz and newsletter
        if (typeof initQuiz === 'function') initQuiz();
        if (typeof initNewsletter === 'function') initNewsletter();
        
        // Render bestsellers
        renderBestsellers();
        
        // Bind events
        document.addEventListener('cart:updated', () => {
          const cartCount = document.getElementById('cart-count');
          if (cartCount) cartCount.textContent = cartCount();
        });
        
      } catch (error) {
        console.error('Error initializing home page:', error);
        toast('Error initializing home page', 'error');
      }
    }
    
    // Card renderer with defensive programming
    function card(p) {
      if (!p || !p.id || !p.name) {
        console.warn('Invalid product data:', p);
        return '';
      }
      
      const rating = avgRating(p.id) || 0;
      const count = reviewsCount(p.id) || 0;
      
      return `<article class="card">
        <picture>
          <source type="image/webp" srcset="${p.imageWebp || p.image}">
          <img src="${p.image}" alt="${p.name} bottle" loading="lazy" width="300" height="300">
        </picture>
        <div class="pad">
          <h3>${p.name}</h3>
          <div class="meta">${(p.notes || []).slice(0, 3).join(' â€¢ ')}</div>
          <div class="meta">${renderStars(rating)} <span class="muted">(${count})</span></div>
          <div class="price">${formatPrice(p.price)}</div>
          <div class="actions"><button class="btn" onclick="addToCart('${p.id}')">Add to cart</button></div>
        </div>
      </article>`; }
    
    function renderBestsellers() {
      try {
        const bestGrid = document.getElementById('bestGrid');
        if (!bestGrid) {
          console.error('Bestsellers grid element not found');
          return;
        }
        
        // Get featured products and limit to 3
        const featuredProducts = PRODUCTS.filter(p => p.featured).slice(0, 3);
        
        // If less than 3 featured, add some popular ones
        if (featuredProducts.length < 3) {
          const remainingProducts = PRODUCTS.filter(p => !p.featured).slice(0, 3 - featuredProducts.length);
          featuredProducts.push(...remainingProducts);
        }
        
        bestGrid.innerHTML = featuredProducts.map(card).join('');
        
        console.log(`Rendered ${featuredProducts.length} bestsellers`);
        
      } catch (error) {
        console.error('Error rendering bestsellers:', error);
        const bestGrid = document.getElementById('bestGrid');
        if (bestGrid) {
          bestGrid.innerHTML = '<p class="muted">Error loading bestsellers</p>';
        }
      }
    }
    
    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeHome);
    } else {
      initializeHome();
    }
    
  })();
</script>

<footer>
  <div class="container">
    <p class="muted">A scent isn't just a smell â€” it's a signature. RRD Collection curates bold, moodâ€‘defining fragrances for those who walk into the room already unforgettable.</p>
    <small>Â© <span id="year"></span> RRD Collection. All rights reserved. | <a href="/privacy.html">Privacy Policy</a> | <a href="/terms.html">Terms of Service</a></small>
  </div>
</footer>
<div id="toast" aria-live="polite"></div>

<!-- Floating WhatsApp Button -->
<div class="floating-whatsapp">
  <a href="https://wa.me/971559938295?text=Hi%20RRD%20Collection!%20I%20have%20a%20question%20about%20your%20fragrances." 
     class="btn" target="_blank" rel="noopener" aria-label="Contact us on WhatsApp">
    ðŸ“±
  </a>
</div>

<script>document.getElementById('year').textContent = new Date().getFullYear();</script>
</body></html> 